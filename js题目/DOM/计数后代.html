<!DOCTYPE HTML>
<html>

<body>

  <ul>
    <li>Animals
      <ul>
        <li>Mammals
          <ul>
            <li>Cows</li>
            <li>Donkeys</li>
            <li>Dogs</li>
            <li>Tigers</li>
          </ul>
        </li>
        <li>Other
          <ul>
            <li>Snakes</li>
            <li>Birds</li>
            <li>Lizards</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Fishes
      <ul>
        <li>Aquarium
          <ul>
            <li>Guppy</li>
            <li>Angelfish</li>
          </ul>
        </li>
        <li>Sea
          <ul>
            <li>Sea trout</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
  <br>

  <a href="https://plnkr.co/edit/yGvzQkw8y4xCymgj?p=preview&preview">这是答案与我的差距（我是傻逼）</a>
  <script>
    /* 
        这里有一个树结构嵌套的 ul / li。
    
        编写代码，为每个 < li > 显示：
    
        里面的文本内容是什么（没有子树）
        嵌套的 < li > 的数量 — 所有后代，包括深层嵌套的后代。
    */
    // ... your code...
    function countChildren() {

      function searchElementLi(element) {
        if (element.tagName === "LI") {
          if (element.firstElementChild) {
            searchElementLi(element.firstElementChild);
          }
        } else if (element.tagName === "UL") {
          sum = sum + element.children.length;
          for (let item of element.children) {
            searchElementLi(item);
          }

        }
      }

      let sum = 0;

      return function () {
        let liAll = document.querySelectorAll("li");
        for (let item of liAll) {
          searchElementLi(item);
          alert(item.firstChild.data.trim() + ": " + sum);
          sum = 0;
        }
      }
    }

    let getLiAndCount = countChildren();
    getLiAndCount();

  </script>

</body>

</html>